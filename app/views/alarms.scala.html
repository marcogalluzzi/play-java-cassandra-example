@import data.HomeData
@(homeData: HomeData)

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html>
<head>
    <title>Alarm System Status</title>
</head>
<body style="font:14px verdana,arial,sans-serif">
    <h1>Alarm System Status</h1>
    Enter your home id to see the most recent activity for the system
    <p>&nbsp;</p>
    <form id="form1" name="form1" method="get" action="">
        Home id (e.g. H01474777):
        <input type="text" name="h_id" id="h_id" />
        <input type="submit" name="submit" id="submit" value="Submit"/>
    </form>
    <p>&nbsp;</p>

    @if(homeData != null) {
        @if(homeData.getEvents.isEmpty) {
            <p>&nbsp;</p>
            <b>Sorry</b>, no results for home id @homeData.getHomeId
        } else {
            <p>
                <b>@homeData.getContactName</b>,
                @homeData.getAddress, @homeData.getCity, @homeData.getState, @homeData.getZip
            </p>

            <table style="font:14px verdana,arial,sans-serif" cellpadding="4">
            @for(event <- homeData.getEvents) {
                <tr>
                    <td>@event.getEventDescription</td>
                    <td>@event.getDatetimeAsString</td>
                </tr>
            }
            </table>
        }
    }
    </body>
</html>
